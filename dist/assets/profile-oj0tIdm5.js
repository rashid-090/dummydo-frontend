import{s as d,r as o,j as a,P as r,i as l,B as p}from"./index-DqlKSslB.js";import{N as f,a as y,u as N}from"./adminConnections-Bn--mIEH.js";const k=()=>{const{orderId:m}=d(),[t,n]=o.useState(null),[e,i]=o.useState(null),[x,u]=o.useState(!1),h=async()=>{const s=await y(m);s!=null&&s.status&&n(s.data)};o.useEffect(()=>{h()},[]);const j=async()=>{if(e){u(!0);const s=await N(t._id,e);u(!1),s!=null&&s.status?(n(c=>({...c,orderStatus:"Completed",ticketUrl:s.data})),p.success(s.message),i(null)):p.error(s.message)}};return x?a.jsx(r,{}):a.jsxs("main",{children:[a.jsx(f,{}),a.jsx("div",{className:"py-10 w-10/12 mx-auto",children:a.jsxs("div",{className:"space-y-2 text-lg",children:[a.jsxs("h2",{children:[a.jsx("span",{className:"font-bold underline",children:"E-mail"})," : ",t==null?void 0:t.email]}),a.jsxs("h2",{children:[a.jsx("span",{className:"font-bold underline",children:"Mobile"})," : ",t==null?void 0:t.mobileNumber]}),a.jsxs("h2",{children:[a.jsx("span",{className:"font-bold underline",children:"Country"})," : ",t==null?void 0:t.originCountry]}),a.jsx("h2",{children:a.jsx("span",{className:"font-bold underline",children:"Travel Record"})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("p",{children:["Service : ",t==null?void 0:t.serviceType]}),a.jsxs("p",{children:["Type : ",t==null?void 0:t.tripType]}),a.jsxs("p",{children:["Processing Type : ",t==null?void 0:t.processingSpeed]}),a.jsxs("p",{children:["Purpose : ",t==null?void 0:t.purpose]}),a.jsxs("p",{children:["From : ",t==null?void 0:t.journeyLocation.from]}),a.jsxs("p",{children:["To : ",t==null?void 0:t.journeyLocation.to]}),a.jsxs("p",{children:["No. of Travellers : ",t==null?void 0:t.passengerCount]}),a.jsxs("div",{children:["Travellers Data :",a.jsx("div",{className:"ml-4",children:t!=null&&t.passengerData.length?t.passengerData.map((s,c)=>a.jsxs("p",{children:[c+1,". ",s.title," ",s.firstName," ",s.lastName]},c)):null})]}),t!=null&&t.date.startDate?a.jsxs("p",{children:["Travel Date : ",l(t.date.startDate).format("D MMM YYYY")]}):null,t!=null&&t.date.returnDate?a.jsxs("p",{children:["Return Date : ",l(t.date.returnDate).format("D MMM YYYY")]}):null,a.jsxs("p",{children:["Total Amount : ",t==null?void 0:t.currency," ",t==null?void 0:t.total]}),a.jsxs("p",{children:["Payment Status : ",t==null?void 0:t.paymentStatus]}),a.jsxs("p",{children:["Order Status : ",t==null?void 0:t.orderStatus]}),a.jsxs("p",{children:["Ref. Id : ",t==null?void 0:t.referenceId]}),(t==null?void 0:t.createdAt)&&a.jsxs("p",{children:["Booking Time : ",l(t.createdAt).format("Do MMM YYYY, h:mm:ss a")]})]}),(t==null?void 0:t.ticketUrl)&&a.jsx("iframe",{src:t.ticketUrl,width:200,height:300}),(t==null?void 0:t.paymentStatus)=="Success"&&a.jsxs("div",{className:"flex flex-col justify-center items-center my-4 p-2 gap-2 shadow-2xl",children:[t!=null&&t.ticketUrl?"Change Ticket":"Upload Ticket",a.jsx("div",{className:"text-center",children:a.jsx("input",{type:"file",accept:".pdf",onChange:s=>i(s.target.files[0]),id:"file-input",name:"ticket"})}),a.jsx("button",{onClick:j,className:`${e?"bg-blue-600":"bg-neutral-500"} px-2 py-1 text-white rounded`,disabled:!e,children:"Upload"})]})]})})]})};export{k as default};
